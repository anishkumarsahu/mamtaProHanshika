{% extends 'mamtaApp/index.html' %}
{% load staticfiles %}
{% block body %}
    <link href="{% static 'date/bootstrap-datepicker.css' %}" rel="stylesheet">
    <style>
        .card {
            background: #fff;
            min-height: 50px;
            box-shadow: 0 0px 0px rgba(0, 0, 0, 0) !important;
            position: relative;
            margin-bottom: 30px;
            -webkit-border-radius: 2px;
            -moz-border-radius: 2px;
            -ms-border-radius: 2px;
            border-radius: 2px;
        }

        @media only screen and (max-width: 600px) {
            .col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
                position: relative;
                min-height: 1px;
                padding-right: 0px !important;
                padding-left: 0px !important;
            }

            .buttondown {
                margin-bottom: 10px;
            }
        }

        .dt-buttons {
            padding-top: 10px;
        }

        .datepicker {
            top: 200px !important;
            left: 45px;
            z-index: 10;
            display: block;
        }
    </style>
    <section class="content">
        <div class="container-fluid">
            <div class="row clearfix">
                <div class="col-xs-12" style="text-align: right">
                    <button class="btn btn-primary"><a target="_blank" href="{% url 'invoiceApp:index' %}"
                                                       style="text-decoration: none;color: white">Create Invoice</a>
                    </button>
                </div>
                <div class="col-md-3 col-sm-8 col-xs-12">
                    <label for="">Company</label>
                    <select class="form-control show-tick" id="companyID" onchange="ChangeCompany()">
                        {% for comp in company %}
                            <option value="{{ comp.pk }}">{{ comp.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-2 col-sm-4 col-xs-12">
                    <div class="form-group ">
                        <label for="cc-number" class="control-label mb-1">Date</label>
                        <input data-date-end-date="0d" data-provide="datepicker" data-role="datepicker" name="gDate"
                               id="gDate" type="text"
                               class="form-control " placeholder=" DD/MM/YYYY" value="{{ date }}"
                               onchange="ChangeCompany()">
                        <span></span>
                    </div>
                </div>
                <div class="col-md-1 col-sm-6 col-xs-6" style="margin-top: 26px;text-align: center!important;">
                    <a id="reportUrl" href="{% url 'invoiceApp:generate_net_report_admin' %}"
                       style="background-color: #24b53c;color: white;" type="button" class="btn  waves-effect "
                    >Daily Report
                    </a>
                </div>
                <div class="col-md-2 col-sm-6 col-xs-6" style="margin-top: 26px;text-align: center!important;">
                    <a id="reportUrlCollection" href="{% url 'invoiceApp:generate_collection_report_admin' %}"
                       style="background-color: #b54fb5;color: white;" type="button" class="btn  waves-effect "
                    >Collection Report
                    </a>
                </div>
                <div class="col-md-2 col-sm-6 col-xs-6" style="margin-top: 26px;text-align: center!important;">
                    <a id="reportUrlMonthly" href="{% url 'invoiceApp:generate_monthly_report_admin' %}"
                       style="background-color: #b52f58;color: white;" type="button" class="btn  waves-effect "
                    >Monthly Report(I)
                    </a>
                </div>
            <div class="col-md-2 col-sm-6 col-xs-6" style="margin-top: 26px;text-align: center!important;">
                    <a id="reportUrlMonthlySA" href="{% url 'invoiceApp:generate_monthly_report_staff_advance_admin' %}"
                       style="background-color: #b56930;color: white;" type="button" class="btn  waves-effect "
                    >Monthly Report(SA)
                    </a>
                </div>
            </div>
            <hr>
            <div class="row clearfix" style="margin-top: 5px;">
                <div class="col-md-3 col-sm-6 col-xs-6" style="padding-right: 2px!important;">
                    <div class="form-group ">
                        <label for="cc-number" class="control-label mb-1">Start Date</label>
                        <input data-date-end-date="0d" data-provide="datepicker" data-role="datepicker" name="startDate"
                               id="startDate" type="text"
                               class="form-control " placeholder=" DD/MM/YYYY" value="{{ date }}">
                        <span></span>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 col-xs-6" style="padding-left: 2px!important;">
                    <div class="form-group  ">
                        <label for="cc-number" class="control-label mb-1">End Date</label>
                        <input data-date-end-date="0d" data-provide="datepicker" data-role="datepicker" name="endDate"
                               id="endDate" type="text"
                               class="form-control " placeholder=" DD/MM/YYYY" value="{{ date }}">
                        <span></span>
                    </div>
                </div>
                <div class="col-md-3 col-sm-12 col-xs-12">
                    <label for="">Staff</label>
                    <select class="form-control show-tick" id="staff">
                        <option value="all">All</option>
                        {% for user in users %}
                            <option value="{{ user.pk }}">{{ user.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-3 col-sm-12 col-xs-12 buttondown "
                     style="margin-top: 26px;text-align: center!important;">
                    <button style="background-color: #3F51B5;color: white;" type="button" class="btn  waves-effect "
                            onclick="getData()">Search
                    </button>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                INVOICE (CASH)
                            </h2>
                            <button onclick="location.reload();" title="Refresh" style="    background-color: #4af3aa;color: white;top: 12px;position: absolute;right: 10px;
    border-radius: 32%;" type="button"
                                    class="btn  waves-effect ">
                                <i class="material-icons">refresh</i></button>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="collectionTable" class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                INVOICE (CARD)
                            </h2>
                            <button onclick="location.reload();" title="Refresh" style="    background-color: #4af3aa;color: white;top: 12px;position: absolute;right: 10px;
    border-radius: 32%;" type="button"
                                    class="btn  waves-effect ">
                                <i class="material-icons">refresh</i></button>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="cardTable" class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                INVOICE (Mixed )
                            </h2>
                            <button onclick="location.reload();" title="Refresh" style="    background-color: #4af3aa;color: white;top: 12px;position: absolute;right: 10px;
    border-radius: 32%;" type="button"
                                    class="btn  waves-effect ">
                                <i class="material-icons">refresh</i></button>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="mixTable" class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>CashAmount(₹)</th>
                                        <th>CardAmount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>CashAmount(₹)</th>
                                        <th>CardAmount(₹)</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>


                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                INVOICE (CREDIT)
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="collectionTableCheque"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Challan</th>
                                        <th>CustomerName</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Challan</th>
                                        <th>CustomerName</th>
                                        <th>Mode</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                COLLECTION
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="collectionTableCollect"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                CC
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="collectionTableCollectCash"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                RETURNS
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="returnTable"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                CORRECTIONS
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="correctTable"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                COMMISSION
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="commissionTable"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>InvoiceNo.</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                EXPENSE
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="expenseTable"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Remark</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Remark</th>
                                        <th>Amount(₹)</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">

                        <div class="header">
                            <h2>
                                STAFF ADVANCE
                            </h2>
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table id="staffAdvanceTable"
                                       class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>

                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                        <th>Sl. No</th>
                                        <th>Amount(₹)</th>
                                        <th>CustomerName</th>
                                        <th>Company</th>
                                        <th>CollectedBy</th>
                                        <th>CollectedOn</th>
                                        <th>Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="modal fade" id="defaultModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_sale_api' %}" method="post" id="deleteSaleForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Sale</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="saleID" name="saleID">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteDetail()">Yes</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="defaultModalMix" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_sale_api_mix' %}" method="post"
                      id="deleteSaleFormMix">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Sale</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="saleIDMix" name="saleIDMix">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteDetailMix()">Yes</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteCol" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_collection_api' %}" method="post"
                      id="deleteColForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Collection</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="colDelID" name="colDelID">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteColNow()">Yes</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="defaultModalColEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_collection' %}" method="post" id="EditColForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Collection</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="ColID" id="ColID">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountECol" id="amountECol"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                        </span>
                                    <div class="form-line">
                                        {% comment %} <input type="text" class="form-control"
                                               placeholder="Customer Name *" name="customerECol"
                                               id="customerECol">{% endcomment %}
                                        <select class="form-control show-tick" id="customerECol" name="customerECol"
                                                onchange="ChangeCompany()">
                                            {% for comp in buyer %}
                                                <option value="{{ comp.pk }}">{{ comp.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editCol()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteColCash" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_cash_collection_api' %}" method="post"
                      id="deleteColFormCash">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Cash Collection</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="colDelIDCash" name="colDelIDCash">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteColNowCash()">Yes
                        </button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteColAdvance" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_staff_advance_api' %}" method="post"
                      id="deleteColFormAdvance">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Staff Advance</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="colDelIDAdvance" name="colDelIDAdvance">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteColNowAdvance()">Yes
                        </button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalColEditCash" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_collection_cash' %}" method="post"
                      id="EditColFormCash"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Cash Collection</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="ColIDCash" id="ColIDCash">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountEColCash" id="amountEColCash"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                        </span>
                                    <div class="form-line">
                                        {% comment %} <input type="text" class="form-control"
                                               placeholder="Customer Name *" name="customerECol"
                                               id="customerECol">{% endcomment %}
                                        <select class="form-control show-tick" id="customerEColCash"
                                                name="customerEColCash"
                                                onchange="ChangeCompany()">
                                            {% for comp in buyer %}
                                                <option value="{{ comp.pk }}">{{ comp.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editColCash()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalColEditStaffAdvance" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_staff_advance' %}" method="post"
                      id="EditColFormAdvance"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Staff Advance</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="ColIDAdvance" id="ColIDAdvance">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountEColAdvance" id="amountEColAdvance"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                        </span>
                                    <div class="form-line">
                                        {% comment %} <input type="text" class="form-control"
                                               placeholder="Customer Name *" name="customerECol"
                                               id="customerECol">{% endcomment %}
                                        <select class="form-control show-tick" id="customerEColAdvance"
                                                name="customerEColAdvance"
                                                onchange="ChangeCompany()">
                                            {% for comp in buyer %}
                                                <option value="{{ comp.pk }}">{{ comp.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editAdvance()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalInvoiceEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_invoice' %}" method="post" id="EditSalesForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Invoice</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="invoiceID" id="invoiceID">

                        <div class="row clearfix">
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control date" id="invoiceE"
                                               name="invoiceE" placeholder="Invoice Number *">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountE" id="amountE"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">merge_type</i>
                                        </span>
                                    <div class="form-line">
                                        <select class="form-control show-tick" id="salesE" name="salesE">
                                            <option value="Cash">Cash</option>
                                            <option value="Card">Card</option>
                                            <option value="Credit">Credit</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Customer Name *" name="customerE"
                                               id="customerE">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editSales()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalInvoiceEditMix" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_invoice_mix' %}" method="post"
                      id="EditSalesFormMix"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabelMix">Edit Invoice</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="invoiceIDMix" id="invoiceIDMix">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date" id="invoiceEMix"
                                               name="invoiceEMix" placeholder="Invoice Number *">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountEMix" id="amountEMix"
                                               placeholder="Cash Amount *">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="cardAmountEMix" id="cardAmountEMix"
                                               placeholder="Card Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row clearfix">
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">merge_type</i>
                                        </span>
                                    <div class="form-line">
                                        <select class="form-control show-tick" id="salesEMix" name="salesEMix">
                                            <option value="Cash">Cash</option>
                                            <option value="Card">Card</option>
                                            <option value="Credit">Credit</option>
                                            <option value="Mix">Mix</option>


                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">person</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Customer Name *" name="customerEMix"
                                               id="customerEMix">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editSalesMix()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteReturn" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_return_api' %}" method="post"
                      id="deleteReturnForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Return</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="returnDelID" name="returnDelID">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteReturnNow()">Yes</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteCorrection" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_correction_api' %}" method="post"
                      id="deleteCorrectionForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Correction</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="correctionDelID" name="correctionDelID">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteCorrectionNow()">Yes
                        </button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalReturnEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_return' %}" method="post" id="EditReturnForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Return</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="ReturnID" id="ReturnID">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountEReturn" id="amountEReturn"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Invoice Number *" name="invoiceEReturn"
                                               id="invoiceEReturn">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editReturn()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalCorrectEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_correction' %}" method="post"
                      id="EditCorrectionForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Correction</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="CorrectionID" id="CorrectionID">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountECorrection" id="amountECorrection"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Invoice Number *" name="invoiceECorrection"
                                               id="invoiceECorrection">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editCorrection()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteCommission" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_commission_api' %}" method="post"
                      id="deleteCommissionForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Commission</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="commissionDelID" name="commissionDelID">

                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteCommissionNow()">Yes
                        </button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalCommissionEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_commission' %}" method="post"
                      id="EditCommissionForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Commission</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="CommissionID" id="CommissionID">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountECommission" id="amountECommission"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Invoice Number *" name="invoiceECommission"
                                               id="invoiceECommission">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editCommission()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalExpenseEdit" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:edit_expense' %}" method="post" id="EditExpenseForm"> {% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Edit Expense</h4>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" name="ExpenseID" id="ExpenseID">

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">attach_money</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="number" class="form-control date"
                                               name="amountEExpense" id="amountEExpense"
                                               placeholder="Amount *">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row clearfix">
                            <div class="col-md-12">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                        <i class="material-icons">receipt</i>
                                        </span>
                                    <div class="form-line">
                                        <input type="text" class="form-control"
                                               placeholder="Remark *" name="remarkEExpense"
                                               id="remarkEExpense">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="editExpense()">Save</button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="defaultModalDeleteExpense" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'invoiceApp:delete_expense_api' %}" method="post"
                      id="deleteExpenseForm">{% csrf_token %}
                    <div class="modal-header">
                        <h4 class="modal-title" id="defaultModalLabel">Delete Expense</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this detail?</p>
                    </div>
                    <input type="hidden" id="expenseDelID" name="expenseDelID">
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link waves-effect" onclick="deleteExpenseNow()">Yes
                        </button>
                        <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">No</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script src="{% static 'date/bootstrap-datepicker.js' %}"></script>
    <script>
        $.fn.datepicker.defaults.format = "dd/mm/yyyy";
        $('.datepicker').datepicker({});
    </script>
    <script>
        var ctab;
        var dtab;
        var etab;
        var returnTab;
        var commissionTab;
        var cashCollectionTab;
        var cardtab;
        var correctTab;
        var mixTab;
        var exTab;
        var staffTab;

        $(document).ready(function () {
            var startDate = $('#startDate').val();
            var endDate = $('#endDate').val();
            var staff = $('#staff').val();


            ctab = $('#collectionTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "billNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "salesType", "targets": 3, "orderable": true},
                    {"name": "InvoiceSeriesID", "targets": 4, "orderable": true},
                    {"name": "createdBy", "targets": 5, "orderable": true},
                    {"name": "datetime", "targets": 6, "orderable": true},
                    {"name": "action", "targets": 7, "orderable": false},
                ],
                aaSorting: [[6, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:InvoiceCreatedByCashListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });


            cardtab = $('#cardTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "billNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "salesType", "targets": 3, "orderable": true},
                    {"name": "InvoiceSeriesID", "targets": 4, "orderable": true},
                    {"name": "createdBy", "targets": 5, "orderable": true},
                    {"name": "datetime", "targets": 6, "orderable": true},
                    {"name": "action", "targets": 7, "orderable": false},
                ],
                aaSorting: [[6, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:InvoiceCreatedByCardListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            mixTab = $('#mixTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "billNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "mixCardAmount", "targets": 3, "orderable": true},
                    {"name": "salesType", "targets": 4, "orderable": true},
                    {"name": "InvoiceSeriesID", "targets": 5, "orderable": true},
                    {"name": "createdBy", "targets": 6, "orderable": true},
                    {"name": "datetime", "targets": 7, "orderable": true},
                    {"name": "action", "targets": 8, "orderable": false},
                ],
                aaSorting: [[7, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:InvoiceCreatedByMixListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            dtab = $('#collectionTableCheque').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "buyerID.name", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "challanNumber", "targets": 3, "orderable": true},
                    {"name": "customerName", "targets": 4, "orderable": true},
                    {"name": "collectedBy.name", "targets": 5, "orderable": true},
                    {"name": "InvoiceSeriesID", "targets": 6, "orderable": true},
                    {"name": "remark", "targets": 7, "orderable": true},
                    {"name": "datetime", "targets": 8, "orderable": true},
                    {"name": "action", "targets": 9, "orderable": false},
                ],
                aaSorting: [[8, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:InvoiceCreatedByCreditListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            etab = $('#collectionTableCollect').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "amount", "targets": 1, "orderable": true},
                    {"name": "buyerID.name", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "collectedBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:CollectionListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });
            cashCollectionTab = $('#collectionTableCollectCash').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "amount", "targets": 1, "orderable": true},
                    {"name": "buyerID.name", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "collectedBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:CashCollectionListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            returnTab = $('#returnTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "actualBillNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "createdBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:ReturnCollectionListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            correctTab = $('#correctTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "actualBillNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "createdBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:CorrectCollectionListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });
            commissionTab = $('#commissionTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "actualBillNumber", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "createdBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:CommissionListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            exTab = $('#expenseTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "remark", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "createdBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:ExpenseListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });

            staffTab = $('#staffAdvanceTable').dataTable({
                dom: 'Blfrtip',
                buttons: ['excel', 'print'
                ],
                "columnDefs": [
                    {"name": "id", "targets": 0, "orderable": false},
                    {"name": "remark", "targets": 1, "orderable": true},
                    {"name": "amount", "targets": 2, "orderable": true},
                    {"name": "companyID", "targets": 3, "orderable": true},
                    {"name": "createdBy", "targets": 4, "orderable": true},
                    {"name": "datetime", "targets": 5, "orderable": true},
                    {"name": "action", "targets": 6, "orderable": false},
                ],
                aaSorting: [[5, 'desc']],
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "pageLength": 10,
                "processing": true,
                "serverSide": true,
                "ajax": "{% url 'invoiceApp:StaffAdvanceListJson' %}?staff=" + staff + "&startDate=" + startDate + "&endDate=" + endDate

            });
        });

        function getData() {
            var startDate = $('#startDate').val();
            var endDate = $('#endDate').val();
            var staff = $('#staff').val();


            ctab.api().ajax.url('{% url "invoiceApp:InvoiceCreatedByCashListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            dtab.api().ajax.url('{% url "invoiceApp:InvoiceCreatedByCreditListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            etab.api().ajax.url('{% url "invoiceApp:CollectionListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            returnTab.api().ajax.url('{% url "invoiceApp:ReturnCollectionListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            correctTab.api().ajax.url('{% url "invoiceApp:CorrectCollectionListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            commissionTab.api().ajax.url('{% url "invoiceApp:CommissionListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            cashCollectionTab.api().ajax.url('{% url "invoiceApp:CashCollectionListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            cardtab.api().ajax.url('{% url "invoiceApp:InvoiceCreatedByCardListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            mixTab.api().ajax.url('{% url "invoiceApp:InvoiceCreatedByMixListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            exTab.api().ajax.url('{% url "invoiceApp:ExpenseListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
            staffTab.api().ajax.url('{% url "invoiceApp:StaffAdvanceListJson" %}?staff=' + staff + '&startDate=' + startDate + '&endDate=' + endDate).load();
        }
        function getImage(url) {

            $('#cImage').attr("src", url);
        }

        function getDetail(id, bill, sales, amount, customer) {
            $('#invoiceID').val(id);
            $('#invoiceE').val(bill);
            $('#amountE').val(amount);
            $('#salesE').val(sales);
            $('#customerE').val(customer);
        }
        function getDetailMix(id, bill, sales, amount, customer, cardamount) {
            $('#invoiceIDMix').val(id);
            $('#invoiceEMix').val(bill);
            $('#amountEMix').val(amount);
            $('#salesEMix').val(sales);
            $('#cardAmountEMix').val(cardamount);
            $('#customerEMix').val(customer);
        }
        function getDetailCol(id, amount, customer) {
            $('#ColID').val(id);
            $('#amountECol').val(amount);
            $('#customerECol').val(customer);
        }
        function getDetailColCash(id, amount, customer) {
            $('#ColIDCash').val(id);
            $('#amountEColCash').val(amount);
            $('#customerEColCash').val(customer);
        }
        function getDetailStaffAdvance(id, amount, customer) {
            $('#ColIDAdvance').val(id);
            $('#amountEColAdvance').val(amount);
            $('#customerEColAdvance').val(customer);
        }
        function getDetailReturn(id, invoice, amount) {
            $('#ReturnID').val(id);
            $('#amountEReturn').val(amount);
            $('#invoiceEReturn').val(invoice);
        }
        function getDetailCorrection(id, invoice, amount) {
            $('#CorrectionID').val(id);
            $('#amountECorrection').val(amount);
            $('#invoiceECorrection').val(invoice);
        }

        function getDetailCommission(id, invoice, amount) {
            $('#CommissionID').val(id);
            $('#amountECommission').val(amount);
            $('#invoiceECommission').val(invoice);
        }

        function getDetailExpense(id, remark, amount) {
            $('#ExpenseID').val(id);
            $('#amountEExpense').val(amount);
            $('#remarkEExpense').val(remark);
        }
        function deleteSale(id) {
            $('#saleID').val(id)

        }
        function deleteSaleMix(id) {
            $('#saleIDMix').val(id)

        }

        function deleteCol(id) {
            $('#colDelID').val(id)

        }
        function deleteColCash(id) {
            $('#colDelIDCash').val(id)

        }
        function deleteColAdvance(id) {
            $('#colDelIDAdvance').val(id)

        }
        function deleteDetail() {

            $('#deleteSaleForm').submit();
        }
        function deleteDetailMix() {

            $('#deleteSaleFormMix').submit();
        }
        function deleteColNow() {

            $('#deleteColForm').submit();
        }

        function deleteColNowCash() {

            $('#deleteColFormCash').submit();
        }
        function deleteColNowAdvance() {

            $('#deleteColFormAdvance').submit();
        }


        function editSales() {
            var invoiceID = $('#invoiceID').val();
            var invoiceE = $('#invoiceE').val();
            var salesE = $('#salesE').val();
            var amountE = $('#amountE').val();
            var customerE = $('#customerE').val();

            if (invoiceID === "" || invoiceE === "" || salesE === "" || amountE === "" || customerE === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditSalesForm').submit();
            }

        }

        function editSalesMix() {
            var invoiceID = $('#invoiceIDMix').val();
            var invoiceE = $('#invoiceEMix').val();
            var salesE = $('#salesEMix').val();
            var amountE = $('#amountEMix').val();
            var cardAmountEMix = $('#cardAmountEMix').val();
            var customerE = $('#customerEMix').val();

            if (cardAmountEMix === "" || invoiceID === "" || invoiceE === "" || salesE === "" || amountE === "" || customerE === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditSalesFormMix').submit();
            }

        }

        function editCol() {
            var invoiceID = $('#ColID').val();
            var amountE = $('#amountECol').val();
            var customerE = $('#customerECol').val();

            if (invoiceID === "" || amountE === "" || customerE === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditColForm').submit();
            }

        }
        function editColCash() {
            var invoiceID = $('#ColIDCash').val();
            var amountE = $('#amountEColCash').val();
            var customerE = $('#customerEColCash').val();

            if (invoiceID === "" || amountE === "" || customerE === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditColFormCash').submit();
            }

        }
        $(ChangeCompany());
        function ChangeCompany() {
            var comp = $('#companyID').val();
            var gDate = $('#gDate').val();
            $("#reportUrl").attr("href", "{% url 'invoiceApp:generate_net_report_admin' %}?companyID=" + comp + '&gDate=' + gDate);
            $("#reportUrlCollection").attr("href", "{% url 'invoiceApp:generate_collection_report_admin' %}?companyID=" + comp + '&gDate=' + gDate);
            $("#reportUrlMonthly").attr("href", "{% url 'invoiceApp:generate_monthly_report_admin' %}?companyID=" + comp + '&gDate=' + gDate);
            $("#reportUrlMonthlySA").attr("href", "{% url 'invoiceApp:generate_monthly_report_staff_advance_admin' %}?companyID=" + comp + '&gDate=' + gDate);

        }


        function editReturn() {
            var ReturnID = $('#ReturnID').val();
            var amountEReturn = $('#amountEReturn').val();
            var invoiceEReturn = $('#invoiceEReturn').val();

            if (ReturnID === "" || amountEReturn === "" || invoiceEReturn === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditReturnForm').submit();
            }

        }

        function editCorrection() {
            var ReturnID = $('#CorrectionID').val();
            var amountEReturn = $('#amountECorrection').val();
            var invoiceEReturn = $('#invoiceECorrection').val();

            if (ReturnID === "" || amountEReturn === "" || invoiceEReturn === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditCorrectionForm').submit();
            }

        }
        function deleteReturn(id) {
            $('#returnDelID').val(id)

        }
        function deleteReturnNow() {

            $('#deleteReturnForm').submit();
        }

        function editCommission() {
            var CommissionID = $('#CommissionID').val();
            var amountECommission = $('#amountECommission').val();
            var invoiceECommission = $('#invoiceECommission').val();

            if (CommissionID === "" || amountECommission === "" || invoiceECommission === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditCommissionForm').submit();
            }

        }

        function editExpense() {
            var CommissionID = $('#ExpenseID').val();
            var amountECommission = $('#amountEExpense').val();
            var invoiceECommission = $('#remarkEExpense').val();

            if (CommissionID === "" || amountECommission === "" || invoiceECommission === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditExpenseForm').submit();
            }

        }
        function deleteCommission(id) {
            $('#commissionDelID').val(id)

        }
        function deleteExpense(id) {
            $('#expenseDelID').val(id)

        }
        function deleteCommissionNow() {

            $('#deleteCommissionForm').submit();
        }

        function deleteCorrection(id) {
            $('#correctionDelID').val(id)

        }
        function deleteCorrectionNow() {

            $('#deleteCorrectionForm').submit();
        }
        function deleteExpenseNow() {

            $('#deleteExpenseForm').submit();
        }
        function editAdvance() {
            var invoiceID = $('#ColIDAdvance').val();
            var amountE = $('#amountEColAdvance').val();
            var customerE = $('#customerEColAdvance').val();

            if (invoiceID === "" || amountE === "" || customerE === "") {
                $('#name_status').addClass('validate_data');
                $('#name_status').html('* fields are required.').fadeIn().fadeOut(2000);

            }
            else {
                $('#EditColFormAdvance').submit();
            }

        }
    </script>
{% endblock %}